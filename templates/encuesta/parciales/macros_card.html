{% load static %}
<div class="panel-card">
    <h6 class="fw-black text-uppercase tracking-wider mb-4 opacity-75">Macronutrientes</h6>
    {% if informe %}
    <div class="d-flex flex-column gap-3">
        <div>
            <div class="d-flex justify-content-between mb-1">
                <span class="x-small fw-black">PROTEÍNAS</span>
                <span class="x-small fw-black">{{ informe.plan.proteinas_g }} g</span>
            </div>
            <div class="macro-bar">
                {% with pct=informe.porcentajes.prot_pct %}
                <div class="h-100 bg-danger" style="width: {{ pct }}%"></div>
                {% endwith %}
            </div>
        </div>
        <div>
            <div class="d-flex justify-content-between mb-1">
                <span class="x-small fw-black">CARBOHIDRATOS</span>
                <span class="x-small fw-black">{{ informe.plan.carbohidratos_g }} g</span>
            </div>
            <div class="macro-bar">
                {% with pct=informe.porcentajes.carbs_pct %}
                <div class="h-100 bg-warning" style="width: {{ pct }}%"></div>
                {% endwith %}
            </div>
        </div>
        <div>
            <div class="d-flex justify-content-between mb-1">
                <span class="x-small fw-black">GRASAS</span>
                <span class="x-small fw-black">{{ informe.plan.grasas_g }} g</span>
            </div>
            <div class="macro-bar">
                {% with pct=informe.porcentajes.grasa_pct %}
                <div class="h-100 bg-success" style="width: {{ pct }}%"></div>
                {% endwith %}
            </div>
        </div>
        <p class="text-center x-small text-muted fw-bold mt-2">Calorías objetivo: {{ informe.plan.calorias_dia }} kcal</p>
    </div>
    {% else %}
    <p class="text-muted small">No hay datos para calcular macros.</p>
    {% endif %}
</div>
